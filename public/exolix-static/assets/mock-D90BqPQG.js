import{B as x,ac as G,_ as ce,g as O,n as H,ad as ee}from"./main-CDKDnvW7.js";const E=(t,e,o)=>JSON.stringify(t,(s,a)=>{const r=typeof a=="bigint"?a.toString():a;return typeof e=="function"?e(s,r):r},o);class M extends x{constructor({body:e,details:o,headers:s,status:a,url:r}){super("HTTP request failed.",{details:o,metaMessages:[a&&`Status: ${a}`,`URL: ${G(r)}`,e&&`Request body: ${E(e)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=a,this.url=r}}class ue extends x{constructor({body:e,details:o,url:s}){super("WebSocket request failed.",{details:o,metaMessages:[`URL: ${G(s)}`,`Request body: ${E(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class te extends x{constructor({body:e,error:o,url:s}){super("RPC Request failed.",{cause:o,details:o.message,metaMessages:[`URL: ${G(s)}`,`Request body: ${E(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=o.code}}class Q extends x{constructor({body:e,url:o}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${G(o)}`,`Request body: ${E(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const de=-1;class g extends x{constructor(e,{code:o,docsPath:s,metaMessages:a,shortMessage:r}){super(r,{cause:e,docsPath:s,metaMessages:a||(e==null?void 0:e.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.code=e instanceof te?e.code:o??de}}class k extends g{constructor(e,o){super(e,o),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o.data}}class A extends g{constructor(e){super(e,{code:A.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(A,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class S extends g{constructor(e){super(e,{code:S.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(S,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class I extends g{constructor(e){super(e,{code:I.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(I,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class T extends g{constructor(e){super(e,{code:T.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(T,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class R extends g{constructor(e){super(e,{code:R.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(R,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class $ extends g{constructor(e){super(e,{code:$.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty($,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class N extends g{constructor(e){super(e,{code:N.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(N,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class P extends g{constructor(e){super(e,{code:P.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(P,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class L extends g{constructor(e){super(e,{code:L.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(L,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class D extends g{constructor(e){super(e,{code:D.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(D,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class q extends g{constructor(e){super(e,{code:q.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(q,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class W extends g{constructor(e){super(e,{code:W.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(W,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class p extends k{constructor(e){super(e,{code:p.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(p,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class _ extends k{constructor(e){super(e,{code:_.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(_,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class U extends k{constructor(e){super(e,{code:U.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(U,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class F extends k{constructor(e){super(e,{code:F.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(F,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class z extends k{constructor(e){super(e,{code:z.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(z,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class C extends k{constructor(e){super(e,{code:C.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(C,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class le extends g{constructor(e){super(e,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const K=new Map;function he({fn:t,id:e,shouldSplitBatch:o,wait:s=0,sort:a}){const r=async()=>{const c=u();i();const h=c.map(({args:l})=>l);h.length!==0&&t(h).then(l=>{var f;a&&Array.isArray(l)&&l.sort(a);for(let m=0;m<c.length;m++){const{pendingPromise:b}=c[m];(f=b.resolve)==null||f.call(b,[l[m],l])}}).catch(l=>{var f;for(let m=0;m<c.length;m++){const{pendingPromise:b}=c[m];(f=b.reject)==null||f.call(b,l)}})},i=()=>K.delete(e),n=()=>u().map(({args:c})=>c),u=()=>K.get(e)||[],d=c=>K.set(e,[...u(),c]);return{flush:i,async schedule(c){const h={},l=new Promise((b,w)=>{h.resolve=b,h.reject=w});return(o==null?void 0:o([...n(),c]))&&r(),u().length>0?(d({args:c,pendingPromise:h}),l):(d({args:c,pendingPromise:h}),setTimeout(r,s),l)}}}async function fe(t){return new Promise(e=>setTimeout(e,t))}function re(t,{delay:e=100,retryCount:o=2,shouldRetry:s=()=>!0}={}){return new Promise((a,r)=>{const i=async({count:n=0}={})=>{const u=async({error:d})=>{const c=typeof e=="function"?e({count:n,error:d}):e;c&&await fe(c),i({count:n+1})};try{const d=await t();a(d)}catch(d){if(n<o&&await s({count:n,error:d}))return u({error:d});r(d)}};i()})}function be(t,e={}){return async(o,s={})=>{const{retryDelay:a=150,retryCount:r=3}={...e,...s};return re(async()=>{try{return await t(o)}catch(i){const n=i;switch(n.code){case A.code:throw new A(n);case S.code:throw new S(n);case I.code:throw new I(n);case T.code:throw new T(n);case R.code:throw new R(n);case $.code:throw new $(n);case N.code:throw new N(n);case P.code:throw new P(n);case L.code:throw new L(n);case D.code:throw new D(n);case q.code:throw new q(n);case W.code:throw new W(n);case p.code:throw new p(n);case _.code:throw new _(n);case U.code:throw new U(n);case F.code:throw new F(n);case z.code:throw new z(n);case C.code:throw new C(n);case 5e3:throw new p(n);default:throw i instanceof x?i:new le(n)}}},{delay:({count:i,error:n})=>{var u;if(n&&n instanceof M){const d=(u=n==null?void 0:n.headers)==null?void 0:u.get("Retry-After");if(d!=null&&d.match(/\d/))return parseInt(d)*1e3}return~~(1<<i)*a},retryCount:r,shouldRetry:({error:i})=>me(i)})}}function me(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===q.code||t.code===R.code:t instanceof M&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function we({key:t,name:e,request:o,retryCount:s=3,retryDelay:a=150,timeout:r,type:i},n){return{config:{key:t,name:e,request:o,retryCount:s,retryDelay:a,timeout:r,type:i},request:be(o,{retryCount:s,retryDelay:a}),value:n}}function pe(t,e={}){const{key:o="custom",name:s="Custom Provider",retryDelay:a}=e;return({retryCount:r})=>we({key:o,name:s,request:t.request.bind(t),retryCount:e.retryCount??r,retryDelay:a,type:"custom"})}function Y(t,{errorInstance:e=new Error("timed out"),timeout:o,signal:s}){return new Promise((a,r)=>{(async()=>{let i;try{const n=new AbortController;o>0&&(i=setTimeout(()=>{s?n.abort():r(e)},o)),a(await t({signal:n==null?void 0:n.signal}))}catch(n){n.name==="AbortError"&&r(e),r(n)}finally{clearTimeout(i)}})()})}function ge(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const X=ge();function ye(t,e={}){return{async request(o){var d;const{body:s,fetchOptions:a={},timeout:r=e.timeout??1e4}=o,{headers:i,method:n,signal:u}={...e.fetchOptions,...a};try{const c=await Y(async({signal:l})=>await fetch(t,{...a,body:Array.isArray(s)?E(s.map(m=>({jsonrpc:"2.0",id:m.id??X.take(),...m}))):E({jsonrpc:"2.0",id:s.id??X.take(),...s}),headers:{...i,"Content-Type":"application/json"},method:n||"POST",signal:u||(r>0?l:void 0)}),{errorInstance:new Q({body:s,url:t}),timeout:r,signal:!0});let h;if((d=c.headers.get("Content-Type"))!=null&&d.startsWith("application/json")?h=await c.json():h=await c.text(),!c.ok)throw new M({body:s,details:E(h.error)||c.statusText,headers:c.headers,status:c.status,url:t});return h}catch(c){throw c instanceof M||c instanceof Q?c:new M({body:s,details:c.message,url:t})}}}}const Z=new Map;async function ve(t){const{getSocket:e,url:o}=t;let s=Z.get(o);if(s)return s;const{schedule:a}=he({id:o,fn:async()=>{const n=new Map,u=new Map,d=await e({onResponse(c){const h=c.method==="eth_subscription",l=h?c.params.subscription:c.id,f=h?u:n,m=f.get(l);m&&m(c),h||f.delete(l)}});return s={close(){d.close(),Z.delete(o)},socket:d,request({body:c,onError:h,onResponse:l}){const f=c.id??X.take(),m=b=>{var w;typeof b.id=="number"&&f!==b.id||(c.method==="eth_subscribe"&&typeof b.result=="string"&&u.set(b.result,m),c.method==="eth_unsubscribe"&&u.delete((w=c.params)==null?void 0:w[0]),l(b))};n.set(f,m);try{d.request({body:{jsonrpc:"2.0",id:f,...c}})}catch(b){h==null||h(b)}},requestAsync({body:c,timeout:h=1e4}){return Y(()=>new Promise((l,f)=>this.request({body:c,onError:f,onResponse:l})),{errorInstance:new Q({body:c,url:o}),timeout:h})},requests:n,subscriptions:u,url:o},Z.set(o,s),[s]}}),[r,[i]]=await a();return i}async function Pe(t){return ve({async getSocket({onResponse:e}){const o=await ce(()=>import("./native-Bz5QQgeN.js").then(n=>n.n),__vite__mapDeps([])).then(n=>n.WebSocket),s=new o(t);function a(){s.removeEventListener("close",a),s.removeEventListener("message",r)}function r({data:n}){e(JSON.parse(n))}s.addEventListener("close",a),s.addEventListener("message",r),s.readyState===o.CONNECTING&&await new Promise((n,u)=>{s&&(s.onopen=n,s.onerror=u)});const{close:i}=s;return Object.assign(s,{close(){i.bind(s)(),a()},request({body:n}){if(s.readyState===s.CLOSED||s.readyState===s.CLOSING)throw new ue({body:n,url:s.url,details:"Socket is closed."});return s.send(JSON.stringify(n))}})},url:t})}function Ce(t,{body:e,onError:o,onResponse:s}){return t.request({body:e,onError:o,onResponse:s}),t}async function Ee(t,{body:e,timeout:o=1e4}){return t.requestAsync({body:e,timeout:o})}async function Me(t){const e=await Pe(t);return Object.assign(e.socket,{requests:e.requests,subscriptions:e.subscriptions})}const je={http(t,e){return ye(t).request(e)},webSocket:Ce,webSocketAsync:Ee};function Ae(t){return t}const Oe="2.6.5",Re=()=>`@wagmi/core@${Oe}`;var ne=function(t,e,o,s){if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?s:o==="a"?s.call(t):s?s.value:e.get(t)},V,oe;class v extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return Re()}constructor(e,o={}){var r;super(),V.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const s=o.cause instanceof v?o.cause.details:(r=o.cause)!=null&&r.message?o.cause.message:o.details,a=o.cause instanceof v&&o.cause.docsPath||o.docsPath;this.message=[e||"An error occurred.","",...o.metaMessages?[...o.metaMessages,""]:[],...a?[`Docs: ${this.docsBaseUrl}${a}.html${o.docsSlug?`#${o.docsSlug}`:""}`]:[],...s?[`Details: ${s}`]:[],`Version: ${this.version}`].join(`
`),o.cause&&(this.cause=o.cause),this.details=s,this.docsPath=a,this.metaMessages=o.metaMessages,this.shortMessage=e}walk(e){return ne(this,V,"m",oe).call(this,this,e)}}V=new WeakSet,oe=function t(e,o){return o!=null&&o(e)?e:e.cause?ne(this,V,"m",t).call(this,e.cause,o):e};class se extends v{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class Se extends v{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class qe extends v{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class Ie extends v{constructor(){super("Connector not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotFoundError"})}}class Te extends v{constructor({address:e,connector:o}){super(`Account "${e}" not found for connector "${o.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class j extends v{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class $e extends v{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}function B(t){if(typeof t=="string")return Number.parseInt(t,t.trim().substring(0,2)==="0x"?16:10);if(typeof t=="bigint")return Number(t);if(typeof t=="number")return t;throw new Error(`Cannot normalize chainId "${t}" of type "${typeof t}"`)}const xe={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:J(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return J(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const o=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPortal","isRabby","isTokenPocket","isTokenary","isZerion"];for(const s of o)if(e[s])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,o;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(o=t.phantom)==null?void 0:o.ethereum:J(t,"isPhantom")}}};ae.type="injected";function ae(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:o}=t;function s(){const a=t.target;if(typeof a=="function"){const r=a();if(r)return r}return typeof a=="object"?a:typeof a=="string"?{...xe[a]??{id:a,name:`${a[0].toUpperCase()}${a.slice(1)}`,provider:`is${a[0].toUpperCase()}${a.slice(1)}`}}:{id:"injected",name:"Injected",provider(r){return r==null?void 0:r.ethereum}}}return a=>({get icon(){return s().icon},get id(){return s().id},get name(){return s().name},type:ae.type,async setup(){const r=await this.getProvider();r&&t.target&&r.on("connect",this.onConnect.bind(this))},async connect({chainId:r,isReconnecting:i}={}){var d,c,h,l,f,m;const n=await this.getProvider();if(!n)throw new j;let u=null;if(!i&&(u=await this.getAccounts().catch(()=>null),!!(u!=null&&u.length)))try{u=(l=(h=(c=(d=(await n.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:d.caveats)==null?void 0:c[0])==null?void 0:h.value)==null?void 0:l.map(y=>O(y))}catch(w){const y=w;if(y.code===p.code)throw new p(y);if(y.code===P.code)throw y}try{u!=null&&u.length||(u=(await n.request({method:"eth_requestAccounts"})).map(y=>O(y))),n.removeListener("connect",this.onConnect.bind(this)),n.on("accountsChanged",this.onAccountsChanged.bind(this)),n.on("chainChanged",this.onChainChanged),n.on("disconnect",this.onDisconnect.bind(this));let b=await this.getChainId();if(r&&b!==r){const w=await this.switchChain({chainId:r}).catch(y=>{if(y.code===p.code)throw y;return{id:b}});b=(w==null?void 0:w.id)??b}return e&&(await((f=a.storage)==null?void 0:f.removeItem(`${this.id}.disconnected`)),t.target||await((m=a.storage)==null?void 0:m.setItem("injected.connected",!0))),{accounts:u,chainId:b}}catch(b){const w=b;throw w.code===p.code?new p(w):w.code===P.code?new P(w):w}},async disconnect(){var i,n;const r=await this.getProvider();if(!r)throw new j;r.removeListener("accountsChanged",this.onAccountsChanged.bind(this)),r.removeListener("chainChanged",this.onChainChanged),r.removeListener("disconnect",this.onDisconnect.bind(this)),r.on("connect",this.onConnect.bind(this)),e&&(await((i=a.storage)==null?void 0:i.setItem(`${this.id}.disconnected`,!0)),t.target||await((n=a.storage)==null?void 0:n.removeItem("injected.connected")))},async getAccounts(){const r=await this.getProvider();if(!r)throw new j;return(await r.request({method:"eth_accounts"})).map(n=>O(n))},async getChainId(){const r=await this.getProvider();if(!r)throw new j;const i=await r.request({method:"eth_chainId"});return B(i)},async getProvider(){if(typeof window>"u")return;let r;const i=s();return typeof i.provider=="function"?r=i.provider(window):typeof i.provider=="string"?r=J(window,i.provider):r=i.provider,r&&!r.removeListener&&("off"in r&&typeof r.off=="function"?r.removeListener=r.off:r.removeListener=()=>{}),r},async isAuthorized(){var r,i;try{if(e&&await((r=a.storage)==null?void 0:r.getItem(`${this.id}.disconnected`))||!t.target&&!await((i=a.storage)==null?void 0:i.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(o!==void 0&&o!==!1){const c=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",c),!!await this.getProvider()),h=typeof o=="number"?o:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(f=>window.addEventListener("ethereum#initialized",()=>f(c()),{once:!0}))]:[],new Promise(f=>setTimeout(()=>f(c()),h))]))return!0}throw new j}return!!(await re(()=>Y(()=>this.getAccounts(),{timeout:100}))).length}catch{return!1}},async switchChain({chainId:r}){var u,d,c;const i=await this.getProvider();if(!i)throw new j;const n=a.chains.find(h=>h.id===r);if(!n)throw new C(new se);try{return await Promise.all([i.request({method:"wallet_switchEthereumChain",params:[{chainId:H(r)}]}),new Promise(h=>a.emitter.once("change",({chainId:l})=>{l===r&&h()}))]),n}catch(h){const l=h;if(l.code===4902||((d=(u=l==null?void 0:l.data)==null?void 0:u.originalError)==null?void 0:d.code)===4902)try{const{default:f,...m}=n.blockExplorers??{};let b=[];if(f&&(b=[f.url,...Object.values(m).map(y=>y.url)]),await i.request({method:"wallet_addEthereumChain",params:[{chainId:H(r),chainName:n.name,nativeCurrency:n.nativeCurrency,rpcUrls:[((c=n.rpcUrls.default)==null?void 0:c.http[0])??""],blockExplorerUrls:b}]}),await this.getChainId()!==r)throw new p(new Error("User rejected switch after adding network."));return n}catch(f){throw new p(f)}throw l.code===p.code?new p(l):new C(l)}},async onAccountsChanged(r){var i;if(r.length===0)this.onDisconnect();else if(a.emitter.listenerCount("connect")){const n=(await this.getChainId()).toString();this.onConnect({chainId:n}),e&&await((i=a.storage)==null?void 0:i.removeItem(`${this.id}.disconnected`))}else a.emitter.emit("change",{accounts:r.map(n=>O(n))})},onChainChanged(r){const i=B(r);a.emitter.emit("change",{chainId:i})},async onConnect(r){const i=await this.getAccounts();if(i.length===0)return;const n=B(r.chainId);a.emitter.emit("connect",{accounts:i,chainId:n});const u=await this.getProvider();u&&(u.removeListener("connect",this.onConnect.bind(this)),u.on("accountsChanged",this.onAccountsChanged.bind(this)),u.on("chainChanged",this.onChainChanged),u.on("disconnect",this.onDisconnect.bind(this)))},async onDisconnect(r){const i=await this.getProvider();r&&r.code===1013&&i&&(await this.getAccounts()).length||(a.emitter.emit("disconnect"),i&&(i.removeListener("accountsChanged",this.onAccountsChanged.bind(this)),i.removeListener("chainChanged",this.onChainChanged),i.removeListener("disconnect",this.onDisconnect.bind(this)),i.on("connect",this.onConnect.bind(this))))}})}function J(t,e){function o(a){return typeof e=="function"?e(a):typeof e=="string"?a[e]:!0}const s=t.ethereum;if(s!=null&&s.providers)return s.providers.find(a=>o(a));if(s&&o(s))return s}ie.type="mock";function ie(t){const e=t.features??{};let o=!1,s;return a=>({id:"mock",name:"Mock Connector",type:ie.type,async setup(){s=a.chains[0].id},async connect({chainId:r}={}){if(e.connectError)throw typeof e.connectError=="boolean"?new p(new Error("Failed to connect.")):e.connectError;const n=await(await this.getProvider()).request({method:"eth_requestAccounts"});let u=await this.getChainId();return r&&u!==r&&(u=(await this.switchChain({chainId:r})).id),o=!0,{accounts:n,chainId:u}},async disconnect(){o=!1},async getAccounts(){if(!o)throw new qe;return(await(await this.getProvider()).request({method:"eth_accounts"})).map(n=>O(n))},async getChainId(){const i=await(await this.getProvider()).request({method:"eth_chainId"});return ee(i,"number")},async isAuthorized(){return!e.reconnect||!o?!1:!!(await this.getAccounts()).length},async switchChain({chainId:r}){const i=await this.getProvider(),n=a.chains.find(u=>u.id===r);if(!n)throw new C(new se);return await i.request({method:"wallet_switchEthereumChain",params:[{chainId:H(r)}]}),n},onAccountsChanged(r){r.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:r.map(i=>O(i))})},onChainChanged(r){const i=B(r);a.emitter.emit("change",{chainId:i})},async onDisconnect(r){a.emitter.emit("disconnect"),o=!1},async getProvider({chainId:r}={}){const n=(a.chains.find(d=>d.id===r)??a.chains[0]).rpcUrls.default.http[0];return pe({request:async({method:d,params:c})=>{if(d==="eth_chainId")return H(s);if(d==="eth_requestAccounts")return t.accounts;if(d==="eth_signTypedData_v4"&&e.signTypedDataError)throw typeof e.signTypedDataError=="boolean"?new p(new Error("Failed to sign typed data.")):e.signTypedDataError;if(d==="wallet_switchEthereumChain"){if(e.switchChainError)throw typeof e.switchChainError=="boolean"?new p(new Error("Failed to switch chain.")):e.switchChainError;s=ee(c[0].chainId,"number"),this.onChainChanged(s.toString());return}if(d==="personal_sign"){if(e.signMessageError)throw typeof e.signMessageError=="boolean"?new p(new Error("Failed to sign message.")):e.signMessageError;d="eth_sign",c=[c[1],c[0]]}const h={method:d,params:c},{error:l,result:f}=await je.http(n,{body:h});if(l)throw new te({body:h,error:l,url:n});return f}})({retryCount:0})}})}export{v as B,se as C,M as H,R as I,j as P,P as R,C as S,L as T,p as U,he as a,$ as b,Ae as c,we as d,te as e,re as f,ye as g,Me as h,ae as i,Pe as j,Se as k,qe as l,ie as m,B as n,Te as o,pe as p,$e as q,F as r,E as s,Y as t,z as u,Oe as v,fe as w,Ie as x};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
